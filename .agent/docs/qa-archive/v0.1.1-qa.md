## [CI/Deps] 依存関係とCIの安定化

**Question**: CI が `pnpm` のバージョン差異やロックファイル不整合で失敗した。今後どう防ぐ？

**Answer**: 以下を合意して適用する。

- `package.json#packageManager` を真実のソースとする。CI の `pnpm` アクションはこれと合わせる。
- devDependencies を追加・更新する際はローカルで `pnpm install` / `pnpm up` を実行し、`pnpm-lock.yaml` をコミットする。CI は `--frozen-lockfile` を用いて不整合を検知する。
- テストは Vitest v4+, jsdom v27+ を標準にし、テストのエイリアス/自動インポートは `vitest.config.ts` と `unplugin-auto-import` で管理する。

**Decided on**: 2025-12-14
**Related**: # (internal notes from local CI fixes)
