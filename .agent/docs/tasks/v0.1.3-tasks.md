# v0.1.3 Tasks — Technical Debt & Follow-ups

## Goal
Address technical debt and finish incomplete implementation TODOs discovered during v0.1.2 work.

## Tasks

- **Repository / API TODOs**
  - [x] Implement Cloudflare Workers API calls in `app/composables/useAuth.ts` (owner: @kai, estimate: 2d) — Completed in PR #16
  - [x] Implement missing repository/store API calls for tags and recipes (`app/stores/data/*`) (owner: @kai, estimate: 3d) — Implemented; tests added

- **UI / UX**
  - [x] Implement global loading states in `app/stores/pages/recipes.ts` (owner: @kai, estimate: 1d) — Implemented via `app/stores/ui.ts`
  - [ ] Integrate NuxtUI toasts in `app/composables/useAppToast.ts` (owner: @kai, estimate: 1d)
  - [ ] Add confirmation dialog where TODO present in `app/pages/index.vue` (owner: TBD, estimate: 1d)

- **Maintenance**
  - [ ] Triage and convert remaining `TODO` comments into Issues with owners and estimates (owner: @kai, estimate: 1d)
  - [ ] Schedule follow-up sprint for v0.1.3 and set target dates (owner: @kai, estimate: 0.5d)

## Acceptance criteria
- Each code change has unit and/or integration tests where applicable
- Accessibility (axe) tests added/updated for UI changes
- `.agent/specs/*` and `CHANGELOG.md` updated with summary of v0.1.3 changes
- All PRs pass CI (lint/typecheck/tests)

## Next steps

Plan: Implement missing repository/store API calls for tags and recipes

- Step 1 — トリアージ: `app/stores/data` と `app/repositories` 内の TODO を洗い出し、Issue に変換してオーナーと見積を付与する（担当: @kai, 0.5d）。
- Step 2 — 仕様作成: 必要な API 引数・戻り値・エラー型を決めて `.agent/specs/repository-api.md`（または適切な specs）を更新する（担当: @kai, 0.5d）。
- Step 3 — リポジトリ実装: `tags`/`recipes` の create/update/delete/pagination 等を `app/repositories/*` に実装し、unit テストを追加する（担当: @kai, 2d）。
- Step 4 — データ/ページストア適用: `store/data/*` と `store/pages/*` を新しいリポジトリ API に合わせて更新、Page Store の統合テストを追加する（担当: TBD, 1d）。
- Step 5 — 統合/アクセシビリティ: 必要に応じて integration/E2E と axe a11y テストを追加する（担当: TBD, 1d）。
- Step 6 — ドキュメントとリリース準備: `.agent/specs/*` と `CHANGELOG.md` を更新し、PR を作成して CI を通す（担当: @kai, 0.5d）。

このプランで進めてよければ、まず Step 1 のトリアージ（TODO→Issue 化）を進めます。詳細が必要なら指示ください。


## Timeline
- Target: v0.1.3 (next sprint)

## Completed
- **Auth integration**: Cloudflare Workers calls implemented in `app/composables/useAuth.ts`, unit tests added, and `.agent/specs/auth.md` updated (PR #16 merged).
