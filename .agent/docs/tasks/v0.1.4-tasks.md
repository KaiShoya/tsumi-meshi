# v0.1.4 Tasks

**Theme**: フォルダUI、i18n、R2

## フォルダ管理UI

- [x] **API**: フォルダのCRUD操作を行うためのリポジトリ層 (`app/repositories/folders.ts`) を実装する
- [x] **Data Store**: `app/stores/data/folders.ts` を実装し、リポジトリを呼び出して状態を管理する
- [x] **Page Store**: フォルダページのUIロジックを管理する `app/stores/pages/folders.ts` を実装する
- [x] **UI**: フォルダ階層を表示する `FolderTree.vue` コンポーネントを作成する
- [x] **UI**: 新規フォルダ作成用のモーダル `FolderCreateModal.vue` を作成する
- [x] **UI**: フォルダ編集用のモーダル `FolderEditModal.vue` を作成する
- [x] **UI**: ドラッグ＆ドロップによるフォルダ移動・階層変更機能を実装する
- [x] **Page**: 上記コンポーネントを統合し、`app/pages/folders/index.vue` を完成させる
- [ ] **Test**: 各ストアとコンポーネントに対応する `Vitest` のユニットテストを作成する

## 国際化 (i18n)

- [ ] **Config**: `@nuxtjs/i18n` を `nuxt.config.ts` に設定する
- [ ] **Locales**: `locales/ja.json` と `locales/en.json` を作成し、主要なUIテキストを定義する
- [ ] **Constants**: `utils/locales.ts` を作成し、ロケールキーを定数としてエクスポートする
- [ ] **Refactor**: ハードコードされた文字列を `$t()` 関数とロケールキー定数を使って置き換える (主要画面)
- [ ] **UI**: 言語を切り替えるUIコンポーネントをヘッダーに設置する
- [ ] **Logic**: ユーザー設定 > ブラウザ言語 > デフォルト(ja) の優先順位で言語を検出するロジックを実装する

## Cloudflare R2 画像ストレージ

- [ ] **API**: 画像アップロード用の署名付きURLを生成するサーバーAPI (`/api/upload/image`) を作成する
- [ ] **UI**: レシピ作成・編集フォームにファイル入力フィールドを追加する
- [ ] **Logic**: フォームから送信された画像をAPI経由でR2にアップロードするロジックを実装する
- [ ] **UI**: レシピ詳細ページなどでR2から配信される画像を表示する
- [ ] **Validation**: ファイルサイズ(5MB)とフォーマット(JPEG, PNG, WEBP)のバリデーションを実装する

## ドキュメント

- [x] **Spec**: フォルダAPIの仕様を `.agent/specs/repository-api.md` に追記する
- [ ] **Spec**: 画像アップロードAPIの仕様を `.agent/specs/repository-api.md` に追記する
- [x] **Spec**: i18n戦略の概要を `.agent/specs/architecture.md` に追記する
- [ ] **Changelog**: `CHANGELOG.md` に `v0.1.4` のセクションを作成し、変更点を記述する

---

## メモ

- **オーナー**: @KaiShoya
- **期間**: 2025-12-15 -
- **関連QA**: `.agent/docs/qa/v0.1.4-qa.md`

