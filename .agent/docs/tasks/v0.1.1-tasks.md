# v0.1.1 Tasks â€” Feature batch (Folders, Tags, Checks, Search)

## Goal
Deliver the next incremental release focusing on folder management, tag management, recipe checks (history + stats), and search/filter functionality.

## Tasks (feature-scoped)

- **Folders (API + UI + Store + Tests)**
  - [x] Add Workers API endpoints: `GET /folders`, `POST /folders`, `PUT /folders/:id`, `DELETE /folders/:id`, `GET /folders/hierarchy`
  - [x] Implement `FoldersRepository` methods and add any necessary DB migrations
  - [x] Add Pinia data store actions for folders (`fetchAll`, `create`, `update`, `delete`, `getHierarchy`)
  - [x] Add page UI for folder management and a folder selector component
  - [x] Unit tests for repository and stores
  - [x] Integration tests for API

- **Status update**: Folder UI, unit tests and integration tests implemented (see `app/pages/folders`, `app/components/FolderSelector.vue`, `app/stores/data/folders.ts`, `tests/stores/folders.spec.ts`, `tests/repos/folders.spec.ts`, `tests/integration/folders.spec.ts`). API docs updated in `.agent/specs/repository-api.md`.
  - [x] Update `.agent/specs/data-model.md` and `repository-api.md` (back-end endpoints and response shapes updated)

**Release**
- **Completed**: 2025-12-14
- **Commit**: c7ed7fa
- **CHANGELOG**: updated (`CHANGELOG.md`)
- **PR**: (will be created from `chore/specs-enforcement` to `main`)

- **Tags (API + UI + Store + Tests)**
  - [x] Add Workers API endpoints: `GET /tags`, `POST /tags`, `PUT /tags/:id`, `DELETE /tags/:id`, `POST /tags/find-or-create`
  - [x] Implement `TagsRepository` methods
  - [x] Add Pinia data store actions for tags
  - [x] Add UI for managing tags (list + create + edit) and tag selection component
  - [x] Tests and docs updates

- **Recipe Checks (history + stats)**
  - [x] Add API endpoints: `POST /recipes/:id/checks`, `GET /recipes/:id/checks`, `GET /checks/stats`
  - [x] Implement `RecipeChecksRepository` methods and queries for stats
  - [x] Add UI to mark a recipe as checked and view history
  - [x] Add stats view (basic totals/month/week)
  - [x] Tests + docs updates (unit tests and integration tests added)

- **Search & Filter**
  - [x] Backend: add search endpoint / query params to `/recipes` for `q`, `folderId`, `tagIds`
  - [x] Frontend: search input with debounce, folder & tag filters, and integration with page store
  - [x] Tests for search behavior and edge cases

- **Status update**: Search & Filter unit tests added for `recipes` store covering `q`, `folderId`, `tagIds` and error handling. Integration tests (API-level) planned next.

- **CI & Dependencies**
  - [x] Fix CI `pnpm` install issues by aligning action version to `packageManager`
  - [x] Commit `pnpm-lock.yaml` after adding test/dev deps (Vitest, jsdom, Pinia)
  - [x] Add `CI` workflow and Dependabot config
  - [x] Add Vitest config and test setup (`tests/setup.ts`) for alias/auto-imports

## Acceptance criteria
- All new endpoints covered by API docs and tests
- UI components accessible and responsive
- Lint and Typecheck pass for all new code

## Timeline
- Target: ship v0.1.1 within next sprint (TBD)
