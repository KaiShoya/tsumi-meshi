# v0.1 Q&A と決定事項

## [Architecture] 認証方式
**質問**: どの認証方式を使う？ Firebaseとか？

**回答**: Cloudflare Workers + JWTを使う。Cloudflareエコシステムとの一貫性とセキュリティのため。

**決定日**: 2025-12-14
**関連**: #auth-implementation

## [Architecture] 画像保存
**質問**: レシピ画像の扱い方？ ディレクトリ構造は？

**回答**: Cloudflare R2を使う。構造: `users/{userId}/recipes/{recipeId}/{timestamp}-{filename}`。署名付きURLでアクセス。

**決定日**: 2025-12-14
**関連**: #image-management

## [Architecture] エラーハンドリング
**質問**: エラーハンドリングの実装？ NewRelic連携？

**回答**: カスタムエラークラスでコード付き。NewRelic連携準備。ユーザー向けメッセージと開発者ログを分離。

**決定日**: 2025-12-14
**関連**: #error-handling

## [UI] フレームワーク選択
**質問**: UIフレームワークは？ NuxtUIで確定？

**回答**: はい、NuxtUI + Tailwind CSSで一貫性のあるアクセシブルなコンポーネント。

**決定日**: 2025-12-14
**関連**: #ui-framework

## [Deployment] プラットフォーム
**質問**: Cloudflare Pages + Workers？

**回答**: はい、完全なCloudflare統合とパフォーマンスのため。

**決定日**: 2025-12-14
**関連**: #deployment

## [Data] モデル構造
**質問**: レシピ、フォルダ、タグのデータベーススキーマ？

**回答**: data-model.mdで定義。ユーザー分離と階層フォルダ。

**決定日**: 2025-12-14
**関連**: #data-model

## [Testing] テストランナーの選定とセットアップ
**質問**: ユニット/統合テストは何を使う？ どのようにセットアップする？

**回答**: `Vitest` を採用し、`jsdom` 環境を利用します。Pinia の状態テスト用に `tests/setup.ts` を追加して `setActivePinia(createPinia())` を実行するパターンを用います。`package.json` に `test` スクリプトを追加し、テスト依存は PR に同梱してください。

**決定日**: 2025-12-14
**関連**: #testing, #vitest

## [API] 検索・フィルタとチェック履歴
**質問**: 検索の実装とチェック履歴のエンドポイントは？

**回答**: `/recipes` に `q`, `folderId`, `tagIds` のクエリパラメータを追加しました（`tagIds` はカンマ区切り）。チェック用は `POST /recipes/:id/checks`, `GET /recipes/:id/checks`, `GET /checks/stats` を提供しています。バックエンド、クライアント、ストア、簡易テストとUIの基本実装が行われています。

**決定日**: 2025-12-14
**関連**: #search, #checks

## [Features] コア機能
**質問**: 基本機能: CRUD、フォルダ、タグ、チェック？

**回答**: はい、統計とモバイル対応付き。

**決定日**: 2025-12-14
**関連**: #core-features
